plugins {
	id 'com.github.hierynomus.license'   version '0.13.1'
}

task publish

subprojects{
	plugins.withType(JavaPlugin) {
    	targetCompatibility = 1.8
    	sourceCompatibility = 1.8
	}
}

task wrapper(type: Wrapper) {
	gradleVersion = '3.5'
	distributionUrl = 'https://services.gradle.org/distributions/gradle-3.5-all.zip'
}

ext {
	encoding = 'UTF-8'
}

allprojects {
	apply plugin: 'eclipse'
	tasks.eclipse << {
		File prefs = project.file('.settings/org.eclipse.core.resources.prefs');
		if(!prefs.exists()) {
			prefs.parentFile.mkdirs()
			project.file('.settings/org.eclipse.core.resources.prefs')<< "eclipse.preferences.version=1\nencoding/<project>=$encoding\n";
		}
	}
}
